package com.alibaba.fastjson.validate.issue3804;

import com.alibaba.fastjson.JSONValidator;
import org.junit.Test;

public class TestIssue3804 {
    @Test
    public void testIssue3804() {
        //String textResponse = "{\"error\":false,\"errorCode\":\"\",\"data\":{\"hotelCount\":12,\"cashBackMemberSet\":{\"id\":10006,\"title\":\"有返现\"},\"flashLiveShow\":false,\"isMinsuSearch\":false,\"minsuBannerUrl\":\"\",\"areaAndFilterSearch\":false,\"showPrivilegeUser\":false,\"isOrderNewMember\":false,\"showTrainUser\":false,\"promotion\":false,\"enableListMap\":\"1\",\"correctionList\":false,\"isHourRoomCase\":false,\"memberFlag\":0,\"poiInfo\":[],\"hotelEmergencyTip\":\"\",\"isOutLand\":0,\"timeZone\":100,\"advanceCouponInfo\":null,\"hasNewUserCtripPromotion\":false,\"forcedLogin\":false,\"changeMemberEnum\":0,\"leftDiscountChance\":1,\"activeChance\":1,\"sortKey\":[{\"key\":1,\"value\":\"1,1\",\"name\":\"智能排序\"},{\"key\":8,\"value\":\"6,2\",\"name\":\"销量 高-低\"},{\"key\":2,\"value\":\"4,1\",\"name\":\"价格 低-高\"},{\"key\":3,\"value\":\"4,2\",\"name\":\"价格 高-低\"},{\"key\":6,\"value\":\"2,2\",\"name\":\"口碑 高-低\"},{\"key\":9,\"value\":\"10,1\",\"name\":\"综合排序\"}],\"balanceNum\":238974,\"isShowBargainH5\":\"true\",\"cityHotelRankings\":[],\"trainTagName\":\"\",\"userLevel\":\"1\",\"countryCode\":\"CN\",\"maxDaysAllowSelect\":365,\"abMap\":{\"20190812_listaanode\":\"Z\",\"20190918_changefavorable\":\"A\",\"20201029_double11Sale\":\"Z\",\"20210517_listDebugMode\":\"Z\",\"20200821_hotwordrecommend\":\"A\"},\"bargainName\":\"可砍价至\",\"centerBannerPosition\":\"3\",\"newSaleFilterInfos\":[{\"typeId\":9999,\"filterName\":\"优惠\",\"filterNameEn\":\"优惠\",\"selectMode\":1,\"subFilterInfoBeanList\":[{\"id\":123,\"typeId\":1013,\"filterName\":\"午夜特惠\",\"filterNameEn\":\"午夜特惠\",\"trace_token\":\"|*|ctId:5389|*|k:午夜特惠|*|pos:0|*|tp:优惠|*|id:123|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"0-7点午夜房甩卖\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":2,\"typeId\":1013,\"filterName\":\"天天特价\",\"filterNameEn\":\"天天特价\",\"trace_token\":\"|*|ctId:5389|*|k:天天特价|*|pos:1|*|tp:优惠|*|id:2|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"天天特价，超20万酒店85折起\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":10006,\"typeId\":1013,\"filterName\":\"有返现\",\"filterNameEn\":\"有返现\",\"trace_token\":\"|*|ctId:5389|*|k:有返现|*|pos:2|*|tp:优惠|*|id:10006|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"先付后返，返现金额可提现\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":10013,\"typeId\":1013,\"filterName\":\"可用券\",\"filterNameEn\":\"可用券\",\"trace_token\":\"|*|ctId:5389|*|k:可用券|*|pos:3|*|tp:优惠|*|id:10013|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"订酒店，满额立减或返现\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":99,\"typeId\":1013,\"filterName\":\"里程兑换-免费早餐\",\"filterNameEn\":\"里程兑换-免费早餐\",\"trace_token\":\"|*|ctId:5389|*|k:里程兑换-免费早餐|*|pos:4|*|tp:优惠|*|id:99|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"酒店贴心早餐，超值兑换\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":103,\"typeId\":1013,\"filterName\":\"里程兑换-免费房\",\"filterNameEn\":\"里程兑换-免费房\",\"trace_token\":\"|*|ctId:5389|*|k:里程兑换-免费房|*|pos:5|*|tp:优惠|*|id:103|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"会员里程，可抵扣首晚房费\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":102,\"typeId\":1013,\"filterName\":\"里程兑换-房型升级\",\"filterNameEn\":\"里程兑换-房型升级\",\"trace_token\":\"|*|ctId:5389|*|k:里程兑换-房型升级|*|pos:6|*|tp:优惠|*|id:102|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"会员里程，兑免费升级房型\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":100,\"typeId\":1013,\"filterName\":\"里程兑换-免费取消\",\"filterNameEn\":\"里程兑换-免费取消\",\"trace_token\":\"|*|ctId:5389|*|k:里程兑换-免费取消|*|pos:7|*|tp:优惠|*|id:100|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"会员里程，兑换免费取消权益\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":101,\"typeId\":1013,\"filterName\":\"里程兑换-延迟退房\",\"filterNameEn\":\"里程兑换-延迟退房\",\"trace_token\":\"|*|ctId:5389|*|k:里程兑换-延迟退房|*|pos:8|*|tp:优惠|*|id:101|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"会员里程，兑延迟退房2小时\"},\"backColor\":\"#FFFFFF\",\"color\":\"#E88458\",\"edgeColor\":\"#FFDED0\"},{\"id\":10002,\"typeId\":1013,\"filterName\":\"微信专享\",\"filterNameEn\":\"微信专享\",\"trace_token\":\"|*|ctId:5389|*|k:微信专享|*|pos:9|*|tp:优惠|*|id:10002|*|ft:filter|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"微信用户专享优惠\"},\"backColor\":\"#FFFFFF\",\"color\":\"#635E54\",\"edgeColor\":\"#DCDCDC\"}]}],\"newFastFilterInfoBeans\":[{\"filterName\":\"优惠\",\"selectMode\":1,\"subFilterInfoBeanList\":[{\"id\":10013,\"typeId\":1013,\"filterName\":\"可用券\",\"filterNameEn\":\"可用券\",\"orderPer\":520,\"multi\":1,\"trace_token\":\"|*|ctId:5389|*|k:可用券|*|pos:0|*|tp:1013|*|id:10013|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"订酒店，满额立减或返现\"}},{\"id\":10006,\"typeId\":1013,\"filterName\":\"有返现\",\"filterNameEn\":\"有返现\",\"orderPer\":515,\"multi\":1,\"trace_token\":\"|*|ctId:5389|*|k:有返现|*|pos:1|*|tp:1013|*|id:10006|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"先付后返，返现金额可提现\"}},{\"id\":10002,\"typeId\":1013,\"filterName\":\"微信专享\",\"filterNameEn\":\"微信专享\",\"orderPer\":505,\"multi\":1,\"trace_token\":\"|*|ctId:5389|*|k:微信专享|*|pos:2|*|tp:1013|*|id:10002|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"微信用户专享优惠\"}}],\"typeId\":9999},{\"id\":20,\"typeId\":1013,\"filterName\":\"品牌连锁\",\"filterNameEn\":\"\",\"hotWeight\":0,\"multi\":0,\"hotelFilterDescBean\":{\"user_distribution\":\"\"},\"subFilterInfoBeanList\":[{\"id\":40183,\"typeId\":3,\"filterName\":\"海上凤凰\",\"filterNameEn\":\"\",\"hotWeight\":0,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:海上凤凰|*|pos:0|*|tp:3|*|id:40183|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"}}]},{\"id\":37,\"typeId\":1040,\"filterName\":\"双床\",\"filterNameEn\":\"\",\"hotWeight\":0,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:双床|*|pos:1|*|tp:1040|*|id:37|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"},\"unique_id\":34},{\"id\":44,\"typeId\":1041,\"filterName\":\"含早餐\",\"filterNameEn\":\"\",\"hotWeight\":0,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:含早餐|*|pos:2|*|tp:1041|*|id:44|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"}},{\"id\":762031,\"typeId\":5,\"filterName\":\"沙漠商圈\",\"filterNameEn\":\"\",\"hotWeight\":0,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:沙漠商圈|*|pos:4|*|tp:5|*|id:762031|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"}},{\"id\":1,\"typeId\":1015,\"filterName\":\"测试标签\",\"filterNameEn\":\"\",\"hotWeight\":0,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:测试标签|*|pos:5|*|tp:1015|*|id:1|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"}},{\"id\":2,\"typeId\":1042,\"filterName\":\"到店付\",\"filterNameEn\":\"\",\"hotWeight\":590000,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:到店付|*|pos:6|*|tp:1042|*|id:2|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"},\"unique_id\":30},{\"id\":1,\"typeId\":1042,\"filterName\":\"在线付\",\"filterNameEn\":\"\",\"hotWeight\":850000,\"multi\":0,\"trace_token\":\"|*|ctId:5389|*|k:在线付|*|pos:7|*|tp:1042|*|id:1|*|ft:fstft|*|\",\"hotelFilterDescBean\":{\"user_distribution\":\"\"},\"unique_id\":29}],\"checkedFilterBeans\":[{\"filterId\":1,\"filterTypeId\":8888,\"disabled\":false,\"checked\":true}],\"sortingItemList\":[{\"sortFilterId\":\"1\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"智能排序\"},{\"sortFilterId\":\"3\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"销量高-低\"},{\"sortFilterId\":\"4\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"价格低-高\"},{\"sortFilterId\":\"5\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"价格高-低\"},{\"sortFilterId\":\"6\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"好评高-低\"},{\"sortFilterId\":\"7\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"点评数 多-少\"},{\"sortFilterId\":\"8\",\"sortFilterType\":\"8888\",\"sortFilterName\":\"综合排序\"}],\"hotelList\":[{\"refreshStatus\":1,\"commentTagList\":[],\"timeZone\":100,\"isOutLand\":0,\"lowestPrice\":48,\"lowestPriceNew\":50,\"lowestPriceSubCoupon\":48,\"commentScore\":\"4.5\",\"commentDes\":\"很好\",\"commentMainTag\":\"\",\"hasbook\":true,\"hasFavorited\":false,\"tagInfos\":[{\"name\":\"午夜特惠\",\"id\":123,\"style\":\"background-color:#fff;color:#E88458;border-color: #FFDED0;\",\"edgeColor\":\"#FFDED0\",\"color\":\"#E88458\",\"backColor\":\"#fff\",\"className\":\"\"},{\"name\":\"可用券\",\"id\":7,\"style\":\"background-color:#fff;color:#E88458;border-color: #FFDED0;\",\"edgeColor\":\"#FFDED0\",\"color\":\"#E88458\",\"backColor\":\"#fff\",\"className\":\"\"},{\"name\":\"商务中心\",\"id\":197,\"style\":\"background-color: #fff;color: #635E54;border-color: rgba(99,94,84,0.26);\",\"edgeColor\":\"rgba(99,94,84,0.26)\",\"color\":\"#635E54\",\"backColor\":\"#fff\",\"className\":\"\"},{\"name\":\"有棋牌室\",\"id\":221,\"style\":\"background-color: #fff;color: #635E54;border-color: rgba(99,94,84,0.26);\",\"edgeColor\":\"rgba(99,94,84,0.26)\",\"color\":\"#635E54\",\"backColor\":\"#fff\",\"className\":\"\"},{\"name\":\"行李寄存\",\"id\":294,\"style\":\"background-color: #fff;color: #635E54;border-color: rgba(99,94,84,0.26);\",\"edgeColor\":\"rgba(99,94,84,0.26)\",\"color\":\"#635E54\",\"backColor\":\"#fff\",\"className\":\"\"}],\"totalCommentCount\":130,\"historicalConsumer\":5000,\"bargainPrice\":23,\"showHourPrice\":false,\"listDetailShowVr\":false,\"ctripPromotionPriviledge\":false,\"minPriceSubCouponPromotionBefore\":100,\"isBrandHotel\":true,\"isAdHotel\":false,\"businessAreaName\":\"沙漠区行政区\",\"districtName\":\"沙漠区行政区\",\"hourRpList\":null,\"leftTopTag\":null,\"newRecallReason\":[\"沙漠区行政区\"],\"tpl\":[],\"selectedLowPrice\":false,\"limitLowPrice\":false,\"hotelId\":\"91512416\",\"totalPromotionAmount\":52,\"hotelName\":\"测试007\",\"hotelLongName\":\"测试007\",\"hotelBadge\":7,\"isHaveVideo\":0,\"greatComment\":\"不能不看不知道什么东西就不要看的时候不要客气啦……陈赫在这个城市是哪里可以看一下这个电视剧我还是很开心很开心呢、在一起了的感觉就是这样我才能感受一下我喜欢这个的感觉真的太可爱惹？在乎我们将要面临什么样子是个非常可爱惹的人不一定可以做到更好一些……这些问题就是你是什么地方去看电影呢……这种行为必须有良好疗效确切情况发生在一件小事上计较别人不开心不快乐我会好好照顾自己吧……不会是一天没有吃饭没有什么东西是真的了……这么晚又在一起也不会是现在这么晚的人是真的没有安全感和希望你的快乐时光……不想做自己的事\",\"decorateType\":0,\"longitude\":\"87.52999469902365\",\"latitude\":\"47.406502183029865\",\"nearestAreaPosition\":\"距西海风情园直线2.8公里,驾车约2.8公里,预计6分钟\",\"starLevel\":\"青年旅舍\",\"picUrl\":\"000dVyLm.jpg?version=201901140\",\"promoteBookingTipFirst\":\"\",\"recentOrderTime\":\"\",\"promoteBookingTip\":\"\",\"traceToken\":\"|*|cityId:5389|*|qId:53909d5e-36ba-4ecc-8a63-b7c03a91a65e|*|st:city|*|sId:5389|*|scene_ids:0|*|pos:0|*|hId:91512416|*|Tp:default|*|page_index:0|*|page_size:20|*|\",\"hours_room_min_price_cansale\":0,\"leftTopPictureTag\":{\"text\":\"集团旗舰店\",\"size\":\"20\",\"color\":\"#FEE1BA\",\"fontType\":\"\",\"background\":\"linear-gradient(125deg, #000000 0%, #B99A7F 100%)\"},\"badgeClass\":\"icon icon-ho1\",\"tConsume\":\"5000+人次消费\",\"newRecallReasonEntity\":{\"type\":4,\"content\":\"沙漠区行政区\",\"pois\":\"760179\",\"nearbyReason\":\"\"},\"doubleReason\":false,\"priceLines\":false,\"promotionTag\":false,\"isNewReason\":true,\"newReasonText\":\"沙漠区行政区\",\"promotionInfo\":{\"show\":false,\"spanCls\":\"c1  t22 c_4a\",\"text\":\"\"},\"showMb56Cls\":false,\"isSho";
        String textResponse="{\"error\":false,\"code";
        System.out.println(textResponse.length());
        System.out.println(Integer.MAX_VALUE);
        JSONValidator validator = JSONValidator.from(textResponse);
        if (validator.validate() && validator.getType() == JSONValidator.Type.Object) {
            System.out.println("Yes, it is Object");
        } else {
            System.out.println("No, it is not Object");
        }
    }
}
